# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ü–∞—Ä—Å–µ—Ä ERZRF.ru - –¢–û–ü-250 –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤ –†–æ—Å—Å–∏–∏

## ‚ú® –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ **–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è** –ø–∞—Ä—Å–µ—Ä–∞ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞**: –£–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫**: –ò—Å–∫–ª—é—á–µ–Ω—ã –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**: –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–∏—Å–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö URL

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

### üöÄ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø):
- **`fixed_erzrf_parser.py`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
- **`run_fixed_parsing.py`** - –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- **`test_fixed_parser.py`** - –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **`test_fixed_result.xlsx/csv`** - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- **100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## üèÜ –ß—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä

–î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏:
1. **–ù–∞–∑–≤–∞–Ω–∏–µ** - —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–æ—á–∏—â–µ–Ω–æ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤)
2. **–ì–æ—Ä–æ–¥** - –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (—É–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∏—Å–∫–∞)
3. **–°–∞–π—Ç** - —Ä–µ–∞–ª—å–Ω—ã–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏ (–∏—Å–∫–ª—é—á–µ–Ω—ã –∑–∞–≥–ª—É—à–∫–∏)
4. **–°–æ—Ü—Å–µ—Ç–∏** - —Å—Å—ã–ª–∫–∏ –Ω–∞ –í–ö, Instagram –∏ –¥—Ä. (–∏—Å–∫–ª—é—á–µ–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ)
5. **URL –∫–∞—Ä—Ç–æ—á–∫–∏** - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–ø–∞–Ω–∏–∏

## üìà –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

–ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ 3 –∫–æ–º–ø–∞–Ω–∏—è—Ö:
- **100%** –∫–æ–º–ø–∞–Ω–∏–π —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- **100%** –∫–æ–º–ø–∞–Ω–∏–π —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–∞–π—Ç–∞–º–∏
- **100%** –∫–æ–º–ø–∞–Ω–∏–π —Å —Å–æ—Ü—Å–µ—Ç—è–º–∏
- **100%** –∫–æ–º–ø–∞–Ω–∏–π —Å –≥–æ—Ä–æ–¥–∞–º–∏

### üéØ –ü—Ä–∏–º–µ—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```
DOGMA ‚Üí http://1dogma.ru ‚Üí http://vk.com/skdogma
–¢–∞–ª–∞–Ω ‚Üí http://—Ç–∞–ª–∞–Ω.—Ä—Ñ ‚Üí http://vk.com/public41883139
–ë—Ä—É—Å–Ω–∏–∫–∞ ‚Üí http://brusnika.ru ‚Üí http://vk.com/brusnika.company
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (3 –∫–æ–º–ø–∞–Ω–∏–∏):
```bash
python3 test_fixed_parser.py
```

### –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (250 –∫–æ–º–ø–∞–Ω–∏–π):
```bash
python3 run_fixed_parsing.py
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞:
```python
def clean_text(self, text):
    # –£–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫, –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
    text = re.sub(r'\s+', ' ', text.strip())
    # –£–±–∏—Ä–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    text = re.sub(r'[^\w\s\-–ê-–Ø–∞-—è–Å—ë]', '', text)
    return text.strip()
```

### –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∏—Å–∫–∞ —Å–∞–π—Ç–æ–≤:
```python
site_patterns = [
    r'<div[^>]*class="[^"]*cmn_row[^"]*"[^>]*id="org-site"[^>]*>.*?<a[^>]*href="([^"]*)"',
    r'<sws-site[^>]*>.*?<a[^>]*href="([^"]*)"',
    r'–°–∞–π—Ç.*?<a[^>]*href="([^"]*)"'
]
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:
```python
excluded_domains = [
    'erzrf.ru', 'metrika.yandex.ru', 'google.com',
    'support.google.com', 'profi.erzrf.ru'
]
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
pip install requests beautifulsoup4 lxml pandas requests-html openpyxl lxml_html_clean
pyppeteer-install
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| –Ω–∞–∑–≤–∞–Ω–∏–µ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ | DOGMA, –¢–∞–ª–∞–Ω, –ë—Ä—É—Å–Ω–∏–∫–∞ |
| –≥–æ—Ä–æ–¥ | –ì–æ—Ä–æ–¥/—Ä–µ–≥–∏–æ–Ω | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ú–æ—Å–∫–≤–∞ |
| —Å–∞–π—Ç | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç | http://1dogma.ru |
| —Å–æ—Ü—Å–µ—Ç–∏ | –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ | http://vk.com/skdogma |
| url_–∫–∞—Ä—Ç–æ—á–∫–∏ | –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É | https://erzrf.ru/zastroyschiki/brand/... |

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä** –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ **100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã** –∫–æ–º–ø–∞–Ω–∏–π (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ—Ü—Å–µ—Ç–∏** (–∏—Å–∫–ª—é—á–µ–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ)
- ‚úÖ **–û—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç** (–±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ –∏ –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤)

–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞: ~2-3 —á–∞—Å–∞ –¥–ª—è –≤—Å–µ—Ö 250 –∫–æ–º–ø–∞–Ω–∏–π —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏.

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è |
|----------|---------------|-------------------|
| –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ | ‚ùå | ‚úÖ |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ | –ë–∞–∑–æ–≤–∞—è | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è |
| –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–∏—Å–∫–∞ | –ü—Ä–æ—Å—Ç—ã–µ | –£–ª—É—á—à–µ–Ω–Ω—ã–µ |
| –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö | 80% | 100% |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | –ë–∞–∑–æ–≤–∞—è | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è |

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤!**